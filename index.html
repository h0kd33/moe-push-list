<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="moe-push-list.html">
    <style>
        body {
            background: rgb(255, 255, 238);
        }
    </style>
</head>

<body >
    <moe-push-list></moe-push-list>
</body>
<script>
// Inject Json Datas

function injectJson(e) {
    var sentences = e.sentences; // Array
    var data = [];
    for( var i = 0; i < sentences.length; i++ ) {
        var obj = {
            index: i,
            text: sentences[i],
            id: makeid(),
            idColor: (function(){
                var colors=['red','blue','orange','green','yellow','pink','purple' ];
                return colors[parseInt(Math.random()*colors.length)];
            })(),
            date: '00/00/00',
            time: '00:00:00'
        };
        data.push(obj);
    }
    document.querySelector('moe-push-list').data = data;
}
function makeid()
{
    var text = "";
    var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    for( var i=0; i < 8; i++ )
        text += possible.charAt(Math.floor(Math.random() * possible.length));
    return text;
}
(function loadJson() {
    var script = document.createElement('script');
    script.src = 'http://more.handlino.com/sentences.json?callback=injectJson&n=25&limit=3,40&';
    document.body.appendChild(script);
})();

// 廢文產生器... 會error

/* function chttext(e) {
		chtTextGen = e;
		console.log( chtTextGen);
	}
	(function loadChtText() {
		var script = document.createElement('script');
		script.src = 'http://more.handlino.com/sentences.json?n=100?callback=chttext';
		document.body.appendChild(script);		
	})();

	
for (var i in jsonGen) {
    jsonGen[i][content] = chtTextGen[sentences][i];
}
*/
</script>

</html>
